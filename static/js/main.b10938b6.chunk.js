(this["webpackJsonphome-budget"]=this["webpackJsonphome-budget"]||[]).push([[0],{30:function(e){e.exports=JSON.parse('{"app":{"title":"Bud\u017cet domowy"},"transactions":{"creation_date":"Data utworzenia","date":"Data","amount":"Kwota","currency":"Waluta","type":"Rodzaj","category":"Kategoria","constant":"Sta\u0142y","period":"Okres","comment":"Komentarz","unexpected":"Nieprzewidziany","types":{"expense":"Wydatek","income":"Przych\xf3d"},"periods":{"month":"Miesi\u0105c","day":"Dzie\u0144"}},"buttons":{"save":"Zapisz","cancel":"Anuluj","clear":"Wyczy\u015b\u0107","select_csv_file":"Wybierz plik .csv","new_transaction":"Nowa transakcja"}}')},31:function(e){e.exports=JSON.parse('{"app":{"title":"Home budget"},"transactions":{"creation_date":"Creation date","date":"Date","amount":"Amount","currency":"Currency","type":"Type","category":"Category","constant":"Constant","period":"Period","comment":"Comment","unexpected":"Unexpected","types":{"expense":"Expense","income":"Income"},"periods":{"month":"Month","day":"Day"}},"buttons":{"save":"Save","cancel":"Cancel","clear":"Clear","select_csv_file":"Select the .csv file","new_transaction":"New transaction"}}')},38:function(e,t,a){},39:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(0),n=a.n(s),i=a(10),l=a.n(i),r=(a(38),a(39),a(40),a(41),a(3)),o=a(6),d=a(12),j=Object(d.b)({name:"transactions",initialState:{entries:[]},reducers:{updateTransactions:function(e,t){e.entries=t.payload},addTransaction:function(e,t){e.entries.push(t.payload)},removeTransaction:function(e,t){-1!==t.payload&&e.entries.splice(t.payload,1)}}}),b=j.actions,m=b.updateTransactions,u=b.addTransaction,h=b.removeTransaction,O=function(e){return e.transactions.entries},x=function(e){return e.transactions.entries.map((function(e){return e.category})).filter((function(e,t,a){return a.indexOf(e)===t}))},f=j.reducer,p=a(59);function v(){var e,t=Object(p.a)("common"),a=t.t,s=(t.i18n,Object(o.c)(O)),n=Object(o.b)(),i=function(e){return Object(c.jsxs)("tr",{children:[Object.keys(e).map((function(e){return"creation_date"!=e?Object(c.jsx)("th",{children:a("transactions."+e)},e):""})),Object(c.jsx)("th",{children:a("transactions.options")},"options")]})},l=function(e){var t=[];for(var s in e)"creation_date"!==s&&("type"===s?t.push(Object(c.jsx)("td",{children:"-"===e[s]?a("transactions.types.expense"):a("transactions.types.income")},s)):t.push(Object(c.jsx)("td",{children:e[s]},s)));return t},r=function(e){return e.map((function(t){return Object(c.jsxs)("tr",{children:[l(t),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"button is-danger",onClick:function(){return function(t){var a=e.indexOf(t);-1!==a&&n(h(a))}(t)},children:Object(c.jsx)("i",{className:"fas fa-trash"})})},"options")]})}))};return Object(c.jsx)("div",{children:s.length>0&&(e=s,Object(c.jsxs)("table",{className:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(c.jsx)("thead",{children:i(e[0])}),Object(c.jsx)("tbody",{children:r(e)})]}))})}var N=a(26),y=a.n(N),g=a(27);function w(e){var t=Object(p.a)("common"),a=t.t,n=t.i18n,i=Object(o.b)(),l=Object(o.c)(O),d=Object(s.useState)(""),j=Object(r.a)(d,2),b=j[0],u=j[1],h=function(){return"en"===n.language?"pl":"en"};return Object(c.jsxs)("nav",{className:"level navbar container is-fluid",children:[Object(c.jsx)("div",{className:"level-left",children:Object(c.jsx)("p",{className:"title",children:a("app.title")})}),Object(c.jsxs)("div",{className:"level-right",children:[Object(c.jsx)("div",{className:"level-item",children:Object(c.jsx)("button",{className:"button is-info is-light",onClick:function(){e.addNewTransaction()},children:a("buttons.new_transaction")})}),Object(c.jsx)("div",{className:"level-item",children:Object(c.jsx)(y.a,{label:b||a("buttons.select_csv_file"),cssClass:"button is-primary is-light",cssInputClass:"file-input",cssLabelClass:"file-label",parserOptions:{header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}},onFileLoaded:function(e,t){i(m(e)),u(t.name)}})}),Object(c.jsx)("div",{className:"level-item",children:Object(c.jsxs)(g.CSVLink,{filename:"home-budget.csv",className:"button is-success is-light",data:l,children:[Object(c.jsx)("span",{className:"icon is-small",children:Object(c.jsx)("i",{className:"fas fa-check"})}),Object(c.jsx)("span",{children:a("buttons.save")})]})}),Object(c.jsx)("div",{className:"level-item",children:Object(c.jsx)("button",{className:"button is-danger is-light",onClick:function(){i(m([])),u("")},children:a("buttons.clear")})}),Object(c.jsx)("div",{className:"level-item",children:Object(c.jsx)("button",{className:"button is-dark is-inverted",onClick:function(){return n.changeLanguage(h())},children:h()})})]})]})}var C=a(28),k=a(29),z=a.n(k),_=a(32);a(56);function S(e){var t=Object(p.a)("common"),a=t.t,n=t.i18n,i=Object(o.b)(),l=Object(o.c)(x),r=Object(_.a)({reValidateMode:"onChange"}),d=r.handleSubmit,j=r.register,b=r.errors;Object(s.useEffect)((function(){z.a.attach('[type="date"]',{displayMode:"dialog",showFooter:!1,showHeader:!1,color:"info",showClearButton:!1,startDate:new Date,dateFormat:"DD/MM/YYYY",lang:n.language}).forEach((function(e){e.on("select",(function(e){console.log("date",e)}))}));var e=document.querySelector("#transaction-date");e&&e.bulmaCalendar.on("select",(function(e){console.log("datepicker",e.data.isOpen()),e.data.hide()}))}),[]);return Object(c.jsxs)("div",{className:"modal is-active",children:[Object(c.jsx)("div",{className:"modal-background",onClick:function(){return e.onClose()}}),Object(c.jsxs)("form",{className:"modal-card",onSubmit:d((function(e){var t=Object(C.a)({creation_date:(new Date).toString()},e);console.log("formData",t),i(u(t))})),children:[Object(c.jsxs)("header",{className:"modal-card-head",children:[Object(c.jsx)("p",{className:"modal-card-title",children:a("buttons.new_transaction")}),Object(c.jsx)("button",{className:"delete","aria-label":"close",onClick:function(){return e.onClose()}})]}),Object(c.jsxs)("section",{className:"modal-card-body",children:[Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.date")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{id:"transaction-date",name:"date",ref:j,className:"input",type:"date"})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.type")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"select is-info",children:Object(c.jsxs)("select",{name:"type",ref:j,children:[Object(c.jsx)("option",{value:"-",children:a("transactions.types.expense")}),Object(c.jsx)("option",{value:"+",children:a("transactions.types.income")})]})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.category")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:l.length>0?Object(c.jsx)("div",{className:"select is-info",children:Object(c.jsx)("select",{name:"category",ref:j,children:l.map((function(e){return Object(c.jsx)("option",{value:e,children:e})}))})}):Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{name:"category",ref:j({required:"Required"}),className:"input "+(b.amount&&"is-danger"),type:"text",placeholder:"Category"})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.amount")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsxs)("div",{className:"field has-addons",children:[Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{name:"amount",ref:j({required:"Required",validate:function(e){return parseFloat(e)>0||"Nice try!"}}),className:"input "+(b.amount&&"is-danger"),type:"text",placeholder:"0"})}),Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{name:"currency",ref:j,placeholder:"PLN",className:"button is-static",value:"PLN",readOnly:!0})})]})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.constant")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{name:"constant",ref:j,type:"checkbox"})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.period")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"select is-info",children:Object(c.jsxs)("select",{name:"period",ref:j,children:[Object(c.jsx)("option",{value:"month",children:a("transactions.periods.month")}),Object(c.jsx)("option",{value:"day",children:a("transactions.periods.day")})]})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.unexpected")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{name:"unexpected",ref:j,type:"checkbox"})})})})]}),Object(c.jsxs)("div",{className:"field is-horizontal",children:[Object(c.jsx)("div",{className:"field-label",children:Object(c.jsx)("label",{className:"label",children:a("transactions.comment")})}),Object(c.jsx)("div",{className:"field-body",children:Object(c.jsx)("div",{className:"field",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("textarea",{name:"comment",ref:j,className:"textarea",placeholder:a("transactions.comment")})})})})]})]}),Object(c.jsxs)("footer",{className:"modal-card-foot",children:[Object(c.jsx)("button",{type:"submit",className:"button is-success",children:a("buttons.save")}),Object(c.jsx)("button",{className:"button",onClick:function(){return e.onClose()},children:a("buttons.cancel")})]})]})]})}function D(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(w,{addNewTransaction:function(){return n(!0)}}),Object(c.jsx)(v,{}),a?Object(c.jsx)(S,{onClose:function(){return n(!1)}}):""]})}var T=function(){return Object(c.jsx)("section",{className:"",children:Object(c.jsx)(D,{})})},L=Object(d.a)({reducer:{transactions:f}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(58),W=a(19),q=a(30),E=a(31);W.a.init({interpolation:{escapeValue:!1},lng:"pl",resources:{pl:{common:q},en:{common:E}}}),l.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(M.a,{i18n:W.a,children:Object(c.jsx)(o.a,{store:L,children:Object(c.jsx)(T,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.b10938b6.chunk.js.map