(this["webpackJsonphome-budget"]=this["webpackJsonphome-budget"]||[]).push([[0],{33:function(e){e.exports=JSON.parse('{"app":{"title":"Bud\u017cet domowy"},"transactions":{"creation_date":"Data utworzenia","date":"Data","amount":"Kwota","currency":"Waluta","type":"Rodzaj","category":"Kategoria","constant":"Sta\u0142y","period":"Okres","comment":"Komentarz","unexpected":"Nieprzewidziany","options":"Opcje","types":{"expense":"Wydatek","income":"Przych\xf3d"},"periods":{"month":"Miesi\u0105c","day":"Dzie\u0144"},"yes":"Tak","no":"Nie","otherType":"Inne"},"buttons":{"save":"Zapisz","cancel":"Anuluj","clear":"Wyczy\u015b\u0107","select_csv_file":"Wybierz plik .csv","new_transaction":"Nowa transakcja","edit_transaction":"Edycja transakcji"}}')},34:function(e){e.exports=JSON.parse('{"app":{"title":"Home budget"},"transactions":{"creation_date":"Creation date","date":"Date","amount":"Amount","currency":"Currency","type":"Type","category":"Category","constant":"Constant","period":"Period","comment":"Comment","unexpected":"Unexpected","options":"Options","types":{"expense":"Expense","income":"Income"},"periods":{"month":"Month","day":"Day"},"yes":"Yes","no":"No","otherType":"Other"},"buttons":{"save":"Save","cancel":"Cancel","clear":"Clear","select_csv_file":"Select the .csv file","new_transaction":"New transaction","edit_transaction":"Edit transaction"}}')},41:function(e,t,n){},42:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),c=n.n(s),i=n(12),r=n.n(i),l=(n(41),n(42),n(43),n(44),n(4)),o=n(6),d=n(8),j=n(14),b=Object(j.b)({name:"transactions",initialState:{entries:[]},reducers:{updateTransactions:function(e,t){e.entries=t.payload},addTransaction:function(e,t){e.entries.push(t.payload)},removeTransaction:function(e,t){-1!==t.payload&&e.entries.splice(t.payload,1)},editTransaction:function(e,t){e.entries[t.payload.index]=Object(d.a)({},t.payload.transaction)}}}),u=b.actions,m=u.updateTransactions,h=u.addTransaction,O=u.editTransaction,x=u.removeTransaction,f=function(e){return e.transactions.entries},p=function(e){return e.transactions.entries.map((function(e){return e.category})).filter((function(e,t,n){return n.indexOf(e)===t}))},N=b.reducer,v=n(62),y=n(25),g=n(26),C={CREATION_DATE:"creation_date",DATE:"date",TYPE:"type",CATEGORY:"category",AMOUNT:"amount",CURRENCY:"currency",CONSTANT:"constant",PERIOD:"period",COMMENT:"comment",UNEXPECTED:"unexpected"},T=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"setBasedOnFormData",value:function(e,t){this.amount=e.amount,this.comment=e.comment,this.constant=e.constant,this.date=e.date,this.currency=e.currency,this.period=e.period,this.type=e.type,this.unexpected=e.unexpected,this.category=t?e.otherCategory:e.category}}]),e}();function E(e){var t,n=Object(v.a)("common"),s=n.t,c=(n.i18n,Object(o.b)()),i=function(){return Object(a.jsxs)("tr",{children:[Object.values(C).map((function(e){return function(e){if(e!==C.CREATION_DATE)return Object(a.jsx)("th",{children:s("transactions."+e)},e)}(e)})),Object(a.jsx)("th",{children:s("transactions.options")},"options")]})},r=function(e){var t=[],n=function(t){switch(t){case C.TYPE:return"-"===e[t]?s("transactions.types.expense"):s("transactions.types.income");case C.CONSTANT:return e[t]?s("transactions.yes"):s("transactions.no");case C.PERIOD:return e[t]?s("transactions.periods."+e[t]):"";default:return e[t]}};for(var c in C)c.toLowerCase()!==C.CREATION_DATE&&t.push(Object(a.jsx)("td",{children:n(c.toLowerCase())},c.toLowerCase()));return t},l=function(t){var n=function(t){e.editTransaction(t)};return t.map((function(e){return Object(a.jsxs)("tr",{onClick:function(){return n(e)},children:[r(e),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{className:"button is-danger",onClick:function(){return function(e){var n=t.indexOf(e);-1!==n&&c(x(n))}(e)},children:Object(a.jsx)("i",{className:"fas fa-trash"})}),Object(a.jsx)("button",{className:"button is-warning",onClick:function(){return n(e)},children:Object(a.jsx)("i",{className:"fas fa-edit"})})]},"options")]},t.indexOf(e))}))};return Object(a.jsx)("div",{children:e.transactions.length>0&&(t=e.transactions,Object(a.jsxs)("table",{className:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(a.jsx)("thead",{children:i()}),Object(a.jsx)("tbody",{children:l(t)})]}))})}var w=n(30),k=n.n(w),D=n(31);function _(e){var t=Object(v.a)("common"),n=t.t,c=t.i18n,i=Object(o.b)(),r=Object(s.useState)(""),d=Object(l.a)(r,2),j=d[0],b=d[1],u=function(){return"en"===c.language?"pl":"en"};return Object(a.jsxs)("nav",{className:"level navbar container is-fluid",children:[Object(a.jsx)("div",{className:"level-left",children:Object(a.jsx)("p",{className:"title",children:n("app.title")})}),Object(a.jsxs)("div",{className:"level-right",children:[Object(a.jsx)("div",{className:"level-item",children:Object(a.jsx)("button",{className:"button is-info is-light",onClick:function(){e.addNewTransaction()},children:n("buttons.new_transaction")})}),Object(a.jsx)("div",{className:"level-item",children:Object(a.jsx)(k.a,{label:j||n("buttons.select_csv_file"),cssClass:"button is-primary is-light",cssInputClass:"file-input",cssLabelClass:"file-label",parserOptions:{header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}},onFileLoaded:function(e,t){i(m(e)),b(t.name)}})}),Object(a.jsx)("div",{className:"level-item",children:Object(a.jsxs)(D.CSVLink,{filename:"home-budget.csv",className:"button is-success is-light",data:e.transactions,children:[Object(a.jsx)("span",{className:"icon is-small",children:Object(a.jsx)("i",{className:"fas fa-check"})}),Object(a.jsx)("span",{children:n("buttons.save")})]})}),Object(a.jsx)("div",{className:"level-item",children:Object(a.jsx)("button",{className:"button is-danger is-light",onClick:function(){i(m([])),b("")},children:n("buttons.clear")})}),Object(a.jsx)("div",{className:"level-item",children:Object(a.jsx)("button",{className:"button is-dark is-inverted",onClick:function(){return c.changeLanguage(u())},children:u()})})]})]})}var S=n(2),z=n(32),A=n.n(z),R=n(35);n(59);function M(e){var t=Object(v.a)("common"),n=t.t,c=t.i18n,i=Object(s.useState)(!1),r=Object(l.a)(i,2),j=r[0],b=r[1],u=Object(o.b)(),m=Object(o.c)(p),x=Object(R.a)({mode:"onBlur",reValidateMode:"onChange",defaultValues:Object(d.a)(Object(d.a)({},e.transaction?e.transaction:{}),{},{date:"11/11/2020"})}),f=x.handleSubmit,N=x.register,y=(x.getValues,x.errors);Object(s.useEffect)((function(){A.a.attach('[type="date"]',{displayMode:"dialog",showFooter:!1,showHeader:!1,color:"info",showClearButton:!1,startDate:new Date,dateFormat:"DD/MM/YYYY",lang:c.language}).forEach((function(e){e.on("select",(function(e){}))}));var e=document.querySelector("#transaction-date");e&&e.bulmaCalendar.on("select",(function(e){e.data.hide()}))}),[]);var g=function(e){b(e.target.selectedIndex===e.target.length-1)};return Object(a.jsxs)("div",{className:"modal is-active",children:[Object(a.jsx)("div",{className:"modal-background",onClick:function(){return e.onClose()}}),Object(a.jsxs)("form",{className:"modal-card",onSubmit:f((function(t){var n=new T;if(n.setBasedOnFormData(t,j),e.isEdit){var a={transaction:Object(d.a)({},n),index:e.indexOfTransaction};u(O(a))}else{var s=Object(d.a)(Object(d.a)({},n),{},{creation_date:(new Date).toString()});u(h(s))}e.onClose()})),children:[Object(a.jsxs)("header",{className:"modal-card-head",children:[Object(a.jsx)("p",{className:"modal-card-title",children:e.isEdit?n("buttons.edit_transaction"):n("buttons.new_transaction")}),Object(a.jsx)("button",{className:"delete","aria-label":"close",onClick:function(){return e.onClose()}})]}),Object(a.jsxs)("section",{className:"modal-card-body",children:[Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.date")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{id:"transaction-date",name:C.DATE,ref:N,className:"input",type:"date"})})})})]}),Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.type")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("div",{className:"select is-info",children:Object(a.jsxs)("select",{name:C.TYPE,ref:N,children:[Object(a.jsx)("option",{value:"-",children:n("transactions.types.expense")},"expense"),Object(a.jsx)("option",{value:"+",children:n("transactions.types.income")},"income")]})})})})]}),Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.category")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsx)("div",{className:"field",children:function(){if(m.length>0){var e=[].concat(Object(S.a)(m),[n("transactions.otherType")]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"select is-info",children:Object(a.jsx)("select",{name:C.CATEGORY,ref:N,onChange:g,children:e.map((function(t){return Object(a.jsx)("option",{value:t,children:t},e.indexOf(t))}))})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{className:"input is-info",name:"otherCategory",type:j?"text":"hidden",ref:N,placeholder:n("transactions.otherType")})})]})}return Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{name:C.CATEGORY,ref:N({required:"Required"}),className:"input "+(y.amount&&"is-danger"),type:"text",placeholder:n("transactions.category")})})}()})})]}),Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.amount")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsxs)("div",{className:"field has-addons",children:[Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{name:C.AMOUNT,ref:N({required:"Required",validate:function(e){return parseFloat(e)>0||"Nice try!"}}),className:"input "+(y.amount&&"is-danger"),type:"text",placeholder:"0"})}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{name:C.CURRENCY,ref:N,placeholder:"PLN",className:"button is-static",value:"PLN",readOnly:!0})})]})})]}),Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.constant")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{name:C.CONSTANT,ref:N,type:"checkbox"})})})})]}),Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.period")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("div",{className:"select is-info is-static",children:Object(a.jsxs)("select",{className:"is-static",name:C.PERIOD,ref:N,children:[Object(a.jsx)("option",{value:"month",children:n("transactions.periods.month")},"month"),Object(a.jsx)("option",{value:"day",children:n("transactions.periods.day")},"day")]})})})})]}),Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.unexpected")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{name:C.UNEXPECTED,ref:N,type:"checkbox"})})})})]}),Object(a.jsxs)("div",{className:"field is-horizontal",children:[Object(a.jsx)("div",{className:"field-label",children:Object(a.jsx)("label",{className:"label",children:n("transactions.comment")})}),Object(a.jsx)("div",{className:"field-body",children:Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("textarea",{name:C.COMMENT,ref:N,className:"textarea",placeholder:n("transactions.comment")})})})})]})]}),Object(a.jsxs)("footer",{className:"modal-card-foot",children:[Object(a.jsx)("button",{type:"submit",className:"button is-success",children:n("buttons.save")}),Object(a.jsx)("button",{className:"button",onClick:function(){return e.onClose()},children:n("buttons.cancel")})]})]})]})}function Y(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)(null),r=Object(l.a)(i,2),d=r[0],j=r[1],b=Object(o.c)(f),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(!0),j(e)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(_,{transactions:b,addNewTransaction:function(){return u()}}),Object(a.jsx)(E,{transactions:b,editTransaction:function(e){return u(e)}}),n&&Object(a.jsx)(M,{isEdit:!!d,transaction:d,indexOfTransaction:b.indexOf(d),onClose:function(){return c(!1),void j(null)}})]})}var P=function(){return Object(a.jsx)("section",{className:"",children:Object(a.jsx)(Y,{})})},I=Object(j.a)({reducer:{transactions:N}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(61),B=n(21),U=n(33),W=n(34);B.a.init({interpolation:{escapeValue:!1},lng:"pl",resources:{pl:{common:U},en:{common:W}}}),r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(L.a,{i18n:B.a,children:Object(a.jsx)(o.a,{store:I,children:Object(a.jsx)(P,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.58d2c2ef.chunk.js.map